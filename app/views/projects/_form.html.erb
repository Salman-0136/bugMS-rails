<%= form_with model: @project, local: true, class: "bg-white shadow-lg rounded-2xl p-8 max-w-3xl mx-auto space-y-6" do |f| %>
  <!-- Dynamic Heading -->
  <h2 class="text-3xl font-bold text-purple-700 text-center mb-6">
    üìÅ <%= @project.new_record? ? "Create Project" : "Edit Project" %>
  </h2>

  <%= render 'shared/errors', object: @project %>

  <!-- Project Name -->
  <div>
    <%= f.label :name, class: "block text-gray-700 font-semibold mb-2" %>
    <%= f.text_field :name, placeholder: "Enter project name", 
          class: "w-full border border-gray-300 rounded-xl px-4 py-3 focus:ring-2 focus:ring-purple-400 focus:border-transparent outline-none transition shadow-sm hover:shadow-md" %>
  </div>

  <!-- Project Description -->
  <div>
    <%= f.label :description, class: "block text-gray-700 font-semibold mb-2" %>
    <%= f.text_area :description, rows: 4, placeholder: "Enter project description", 
          class: "w-full border border-gray-300 rounded-xl px-4 py-3 focus:ring-2 focus:ring-purple-400 focus:border-transparent outline-none transition shadow-sm hover:shadow-md resize-none" %>
  </div>

  <!-- Project Manager -->
  <% if can?(:destroy, @project) || @project.new_record? %>
    <div>
      <%= f.label :manager_id, "Project Manager", class: "block text-gray-700 font-semibold mb-2" %>
      <%= f.collection_select :manager_id, @users, :id, :name, { prompt: "Select Manager" }, 
            class: "w-full border border-gray-300 rounded-xl px-4 py-3 focus:ring-2 focus:ring-purple-400 focus:border-transparent outline-none transition shadow-sm hover:shadow-md" %>
    </div>
  <% end %>

  <!-- Assigned Users -->
  <div>
    <%= f.label :assigned_user_ids, "Assigned Users", class: "block text-gray-700 font-semibold mb-2" %>
    <%= f.collection_select :assigned_user_ids, @users, :id, :name, 
          { prompt: "Select Users" }, 
          { multiple: true, class: "w-full border border-gray-300 rounded-xl px-4 py-3 focus:ring-2 focus:ring-purple-400 focus:border-transparent outline-none transition shadow-sm hover:shadow-md h-40" } %>
  </div>

  <!-- Buttons -->
  <div class="flex justify-between items-center mt-6">
    <%= link_to "Back", projects_path, class: "bg-gray-200 hover:bg-gray-300 text-gray-800 font-semibold px-6 py-3 rounded-2xl shadow transition" %>
    <%= f.submit @project.new_record? ? "Create Project" : "Update Project", 
          class: "bg-purple-600 hover:bg-purple-700 text-white font-semibold px-6 py-3 rounded-2xl shadow-lg transition transform hover:-translate-y-1 hover:shadow-xl" %>
  </div>
<% end %>
