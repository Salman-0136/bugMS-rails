<div class="w-full px-6 md:px-12 lg:px-20 py-8 bg-gray-50 min-h-screen">

  <!-- Page Header -->
  <header class="mb-12 text-center">
    <h1 class="text-4xl font-extrabold text-gray-800">All Users</h1>
    <p class="text-gray-500 mt-2 text-lg">View all registered users in the system. Click on a user to see details or manage their tasks.</p>
  </header>

  <!-- Users Grid -->
  <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8">
    <% @users.where.not(is_admin: true).each do |user| %>
      <div class="bg-white shadow-lg rounded-2xl p-6 hover:shadow-2xl transition-all duration-300 border-t-4 border-purple-500 flex flex-col items-center">
        
        <!-- Avatar -->
        <div class="mb-4">
          <%= image_tag user.profile_image.attached? ? url_for(user.profile_image) : "default-user.png", 
                alt: user.name, class: "w-24 h-24 rounded-full object-cover border-4 border-purple-300 shadow-sm" %>
        </div>

        <!-- Name -->
        <h2 class="text-xl font-semibold text-gray-800 mb-1"><%= user.name %></h2>
        
        <!-- Email -->
        <p class="text-gray-500 mb-3 text-sm"><%= user.email %></p>

        <!-- Role / Info -->
        <% if user.respond_to?(:role) %>
          <span class="px-3 py-1 bg-purple-100 text-purple-700 rounded-full text-xs font-medium mb-3">
            <%= user.role&.titleize %>
          </span>
        <% end %>

        <!-- Action Buttons -->
        <div class="flex gap-3 mt-auto">
          <%= link_to "View", user_path(user), class: "bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg font-medium transition" %>
          <%= link_to "Delete", user_path(user), method: :delete, data: { turbo_confirm: "Are you sure?" },
            class: "bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg font-medium transition" %>
        </div>
      </div>
    <% end %>
  </div>

</div>
